template(name="migrationProgress")
  .migration-overlay(class="{{#if isMigrating}}active{{/if}}")
    .migration-modal
      .migration-header
        h3
          | üóÑÔ∏è
          | {{_ 'database-migration'}}
        p {{_ 'database-migration-description'}}
      
      .migration-content
        .migration-overview
          .overall-progress
            .progress-bar
              .progress-fill(style="width: {{migrationProgress}}%")
            .progress-text {{migrationProgress}}%
            .progress-label {{_ 'overall-progress'}}
          
          .current-step
            | ‚öôÔ∏è
            | {{migrationCurrentStep}}
          
          .estimated-time(style="{{#unless migrationEstimatedTime}}display: none;{{/unless}}")
            | ‚è∞
            | {{_ 'estimated-time-remaining'}}: {{migrationEstimatedTime}}
        
        .migration-steps
          h4 {{_ 'migration-steps'}}
          .steps-list
            each migrationSteps
              .migration-step(class="{{#if completed}}completed{{/if}}" class="{{#if isCurrentStep}}current{{/if}}")
                .step-header
                  .step-icon
                    if completed
                      | ‚úÖ
                    else if isCurrentStep
                      | ‚öôÔ∏è
                    else
                      | ‚≠ï
                  .step-info
                    .step-name {{name}}
                    .step-description {{description}}
                  .step-progress
                    if completed
                      .progress-text 100%
                    else if isCurrentStep
                      .progress-text {{progress}}%
                    else
                      .progress-text 0%
                if isCurrentStep
                  .step-progress-bar
                    .progress-fill(style="width: {{progress}}%")
        
        .migration-status
          | ‚ÑπÔ∏è
          | {{migrationStatus}}
      
      .migration-footer
        .migration-info
          | üí°
          | {{_ 'migration-info-text'}}
        .migration-warning
          | ‚ö†Ô∏è
          | {{_ 'migration-warning-text'}}
